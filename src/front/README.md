è“é²¸åº”ç”¨å‰ç«¯å¼€å‘æ¡†æ¶ä½¿ç”¨æŒ‡å—
------------------------

å®ƒæ˜¯åŸºäº `Vue.js` ç ”å‘çš„è“é²¸ä½“ç³»å‰ç«¯åˆ†ç¦»å·¥ç¨‹çš„å•é¡µé¢åº”ç”¨æ¨¡æ¿ï¼ˆBKUI-CLIï¼‰ï¼ŒåŒ…æ‹¬äº†ï¼š

- åŸºç¡€å·¥ç¨‹åŒ–èƒ½åŠ›ï¼Œå¼€ç®±å³ç”¨ï¼Œæ— éœ€è¿‡å¤šé…ç½®ï¼Œå¼€å‘å®Œæˆç›´æ¥åœ¨è“é²¸PaaSå¯éƒ¨ç½²
- åŸºç¡€ mock æœåŠ¡ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿä¼ªé€ æ¥å£æ•°æ®ï¼Œæµ‹è¯•å‰ç«¯
- è“é²¸å‰ç«¯/è®¾è®¡è§„èŒƒï¼Œæä¾›ç»Ÿä¸€è®¾è®¡åŠä»£ç æ£€æµ‹
- bk-magic-vue ç»„ä»¶åº“ï¼Œæä¾›ä¸°å¯Œçš„ç»„ä»¶
- è“é²¸å‰ç«¯é€šç”¨é€»è¾‘ï¼ŒåŒ…å«ç™»å½•æ¨¡å—ã€å¼‚æ­¥è¯·æ±‚ç®¡ç†ç­‰
- æœ€ä½³å®è·µä»¥åŠå¼€å‘ç¤ºä¾‹


# æœ¬åœ°å¼€å‘

#### å®‰è£…ä¾èµ–åŒ…
```
npm install
```

#### é…ç½®host
```
127.0.0.1 dev.bkapps-t.tencent.com
```

#### æ£€æŸ¥é…ç½®æ–‡ä»¶

æ³¨æ„ï¼šè¿è¡Œä¹‹å‰ï¼Œè¯·æ£€æŸ¥é…ç½®æ–‡ä»¶**.babelrc**ã€**eslintrc.js**ç­‰ä»¥.å¼€å¤´çš„é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚éƒ¨åˆ†æ“ä½œç³»ç»Ÿä¼šé»˜è®¤éšè—è¿™ç±»æ–‡ä»¶ï¼Œå¯¼è‡´åœ¨æ¨é€åˆ°ä»£ç ä»“åº“æ—¶æ¼æ‰ï¼Œæœ€ç»ˆå½±å“éƒ¨ç½²ç»“æœã€‚

#### å¯åŠ¨æœåŠ¡
```
npm run dev
```

#### æ‰“å¼€é“¾æ¥dev.bkapps-t.tencent.com

> å¼€å‘åŸŸååŠç«¯å£çš„é…ç½®éƒ½å¯åœ¨`bk.config.js`ä¸­ä¿®æ”¹

# å‰åç«¯åˆ†ç¦»
å½“å‰ä»£ç ä»…ä»…æ˜¯åº”ç”¨å‰ç«¯ï¼Œä½œä¸ºå‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œè¿˜éœ€è¦åç«¯æœåŠ¡ï¼Œå‰åç«¯ä»¥ajax+jsonè¿›è¡Œæ•°æ®å¤„ç†ï¼Œå› æ­¤ï¼Œéœ€è¦

#### æ–°å»ºåç«¯æœåŠ¡æ¨¡å—
#### é…ç½®APP ID
- ç¼–è¾‘æ ¹ç›®å½•ä¸‹index.dev.htmlï¼Œä¿®æ”¹`BKPAAS_APP_ID`ï¼Œç”¨äºæœ¬åœ°å¼€å‘ï¼Œçº¿ä¸Šéƒ¨ç½²æ—¶ä¼šè‡ªåŠ¨æ³¨å…¥

#### é…ç½®åç«¯æ¥å£
- æœ¬åœ°å¼€å‘ä¿®æ”¹`env.js`ä¸­`development`çš„`AJAX_URL_PREFIX`å­—æ®µï¼Œä½œä¸ºæ¥å£çš„urlå‰ç¼€
- çº¿ä¸Šéƒ¨ç½²æµ‹è¯•ç¯å¢ƒä¿®æ”¹`env.js`ä¸­`stag`æ–¹æ³•é‡Œçš„çš„`AJAX_URL_PREFIX`å­—æ®µï¼Œä½œä¸ºæ¥å£çš„urlå‰ç¼€
- çº¿ä¸Šéƒ¨ç½²æµ‹æ­£å¼å¢ƒä¿®æ”¹`env.js`ä¸­`production`æ–¹æ³•é‡Œçš„çš„`AJAX_URL_PREFIX`å­—æ®µï¼Œä½œä¸ºæ¥å£çš„urlå‰ç¼€

#### é…ç½®ç”¨æˆ·ç™»å½•æ€ä¿¡æ¯æ¥å£ï¼Œä½œä¸ºå‰ç«¯åˆ¤æ–­ç™»å½•çŠ¶æ€çš„éªŒè¯
> æ‰“å¼€é¦–é¡µï¼Œå‰ç«¯ä¼šä»¥/user æ¥å‘èµ·ç”¨æˆ·ä¿¡æ¯è¯·æ±‚ï¼Œå¦‚æœæ²¡ç™»å½•ä¼šé‡å®šå‘å›ç™»å½•é¡µé¢

éœ€è¦åç«¯æ¥å£åœ¨ `/user` è·¯å¾„ä¸‹å®ç°è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„æ¥å£, æ¥å£è§„èŒƒå¦‚ä¸‹
```json
{
    "code": 0,
    "data": {
        "username": "test",
        "avatar_url": ""
    },
    "message": "ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸ"
}
```

#### åç«¯æœåŠ¡éœ€è¦è§£å†³è·¨åŸŸé—®é¢˜ï¼Œæ¨èä½¿ç”¨CORSæ–¹æ¡ˆ
è¯¦æƒ…æŸ¥çœ‹MDN https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS

# æ‰“åŒ…æ„å»ºï¼ˆç”Ÿæˆdistç›®å½•ï¼‰
```
npm run build
```

#### å¸¸è§é—®é¢˜

##### ç™»å½•
- æ•´ä¸ªæ¡†æ¶è‡ªå¸¦ç™»å½•å®ç°ï¼Œåœ¨åˆšæ‰“å¼€æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•ä¼šç›´æ¥è·³åˆ°ç™»å½•é¡µï¼Œå¦‚æœæ‰“å¼€åï¼Œç™»å½•è¿‡æœŸï¼ˆæ¥å£è¿”å›401çŠ¶æ€ï¼‰ä¼šå¼¹å‡ºç™»å½•çª—å£

## ç±»å‹é¡¹ç›®ç›®å½•ç»“æ„

ä½¿ç”¨ `bkui-cli` åˆå§‹åŒ–åï¼Œé¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```bash
|-- ROOT/               # é¡¹ç›®æ ¹ç›®å½•
    |-- .babelrc        # babel é…ç½®
    |-- .eslintignore   # eslintignore é…ç½®
    |-- .eslintrc.js    # eslint é…ç½®
    |-- .browserslistrc      # ç¼–è¯‘ä»£ç å…¼å®¹æµè§ˆå™¨é…ç½®
    |-- env.js      # é¡¹ç›®å¯åŠ¨é…ç½®çš„ç¯å¢ƒå˜é‡ç­‰
    |-- .bk.config.js      # ğŸŒŸé¡¹ç›®ç¼–è¯‘é…ç½®æ–‡ä»¶ æä¾› devServe & mockServer &ç”Ÿäº§åŒ…åŠŸèƒ½é›†åˆ
    |-- .gitignore      # gitignore é…ç½®
    |-- README.md       # å·¥ç¨‹çš„ README
    |-- index-dev.html  # æœ¬åœ°å¼€å‘ä½¿ç”¨çš„ html
    |-- index.html      # æ„å»ºéƒ¨ç½²ä½¿ç”¨çš„ html
    |-- package-lock.json # package-lock file
    |-- package.json    # package.jsonï¼Œæˆ‘ä»¬åœ¨æä¾›äº†åŸºæœ¬çš„ doc, dev, build ç­‰ scriptsï¼Œè¯¦ç»†å†…å®¹è¯·å‚è§æ–‡ä»¶
    |-- postcss.config.js # postcss é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº›å¸¸ç”¨çš„ postcss æ’ä»¶ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è§æ–‡ä»¶
    |-- mock-server/            # ğŸŒŸå‰ç«¯mock æ–‡ä»¶æ”¾ç½®
    |-- paas-server/            # ğŸŒŸå¯éƒ¨ç½²è¿è¡Œç¼–è¯‘åä»£ç çš„nodeæœåŠ¡
    |   |-- middleware  # å…¬å…±çš„ä¸­é—´ä»¶
    |       |-- user.js    # ç™»å½•ä¸­é—´ä»¶
    |   |-- index.js    # å¯åŠ¨æœåŠ¡å…¥å£
    |-- src/            # ğŸŒŸå®é™…é¡¹ç›®çš„æºç ç›®å½•
    |   |-- App.vue     # App ç»„ä»¶
    |   |-- main.js     # ä¸»å…¥å£
    |   |-- public-path.js  # __webpack_public_path__ è®¾ç½®
    |   |-- api/        # å¯¹ axios å°è£…çš„ç›®å½•
    |   |   |-- cached-promise.js # promise ç¼“å­˜
    |   |   |-- index.js          # axios å°è£…
    |   |   |-- request-queue.js  # è¯·æ±‚é˜Ÿåˆ—
    |   |-- common/     # é¡¹ç›®ä¸­å¸¸ç”¨æ¨¡å—çš„ç›®å½•
    |   |   |-- auth.js     # auth
    |   |   |-- bkmagic.js  # bk-magic-vue ç»„ä»¶çš„å¼•å…¥
    |   |   |-- bus.js      # å…¨å±€çš„ event bus
    |   |   |-- demand-import.js    # æŒ‰éœ€å¼•å…¥ bk-magic-vue çš„ç»„ä»¶
    |   |   |-- fully-import.js     # å…¨é‡å¼•å…¥ bk-magic-vue çš„ç»„ä»¶
    |   |   |-- preload.js  # é¡µé¢å…¬å…±è¯·æ±‚å³æ¯æ¬¡åˆ‡æ¢ router æ—¶éƒ½å¿…é¡»è¦å‘é€çš„è¯·æ±‚
    |   |   |-- util.js     # é¡¹ç›®ä¸­çš„å¸¸ç”¨æ–¹æ³•
    |   |-- components/     # é¡¹ç›®ä¸­ç»„ä»¶çš„å­˜æ”¾ç›®å½•
    |   |   |-- auth/       # auth ç»„ä»¶
    |   |   |   |-- index.css   # auth ç»„ä»¶çš„æ ·å¼
    |   |   |   |-- index.vue   # auth ç»„ä»¶
    |   |   |-- exception/      # exception ç»„ä»¶
    |   |       |-- index.vue   # exception ç»„ä»¶
    |   |-- css/            # é¡¹ç›®ä¸­é€šç”¨çš„ css çš„å­˜æ”¾ç›®å½•ã€‚å„ä¸ªç»„ä»¶çš„æ ·å¼é€šå¸¸åœ¨ç»„ä»¶å„è‡ªçš„ç›®å½•é‡Œã€‚
    |   |   |-- app.css     # App.vue ä½¿ç”¨çš„æ ·å¼
    |   |   |-- reset.css   # å…¨å±€ reset æ ·å¼
    |   |   |-- variable.css    # å­˜æ”¾ css å˜é‡çš„æ ·å¼
    |   |   |-- mixins/     # mixins å­˜æ”¾ç›®å½•
    |   |       |-- scroll.css  # scroll mixin
    |   |-- images/         # é¡¹ç›®ä¸­ä½¿ç”¨çš„å›¾ç‰‡å­˜æ”¾ç›®å½•
    |   |   |-- 403.png     # 403 é”™è¯¯çš„å›¾ç‰‡
    |   |   |-- 404.png     # 404 é”™è¯¯çš„å›¾ç‰‡
    |   |   |-- 500.png     # 500 é”™è¯¯çš„å›¾ç‰‡
    |   |   |-- building.png # æ­£åœ¨å»ºè®¾ä¸­çš„å›¾ç‰‡
    |   |-- router/         # é¡¹ç›® router å­˜æ”¾ç›®å½•
    |   |   |-- index.js    # index router
    |   |-- store/          # é¡¹ç›® store å­˜æ”¾ç›®å½•
    |   |   |-- index.js    # store ä¸»æ¨¡å—
    |   |   |-- modules/    # å…¶ä»– store æ¨¡å—å­˜æ”¾ç›®å½•
    |   |       |-- example.js  # example store æ¨¡å—
    |   |-- views/          # é¡¹ç›®é¡µé¢ç»„ä»¶å­˜æ”¾ç›®å½•
    |       |-- 404.vue     # 404 é¡µé¢ç»„ä»¶
    |       |-- index.vue   # ä¸»å…¥å£é¡µé¢ç»„ä»¶ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå¤šä½¿ç”¨äº†ä¸€å±‚ router-view æ¥æ‰¿è½½ï¼Œæ–¹ä¾¿ä¹‹åçš„æ‰©å±•
    |       |-- example1/   # example1 é¡µé¢ç»„ä»¶å­˜æ”¾ç›®å½•
    |       |   |-- index.css   # example1 é¡µé¢ç»„ä»¶æ ·å¼
    |       |   |-- index.vue   # example1 é¡µé¢ç»„ä»¶
    |       |-- example2/   # example2 é¡µé¢ç»„ä»¶
    |       |   |-- index.css   # example2 é¡µé¢ç»„ä»¶æ ·å¼
    |       |   |-- index.vue   # example2 é¡µé¢ç»„ä»¶
    |-- static/             # é™æ€èµ„æºå­˜æ”¾ç›®å½•ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œ è¿™ä¸ªç›®å½•ä¸ä¼šäººä¸ºå»æ”¹å˜
    |   |-- lib-manifest.json   # webpack dll æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿è¡Œ npm run dll æˆ–è€… npm run build ä¼šè‡ªåŠ¨ç”Ÿæˆ
    |   |-- lib.bundle.js       # webpack dll æ’ä»¶ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿è¡Œ npm run dll æˆ–è€… npm run build ä¼šè‡ªåŠ¨ç”Ÿæˆ
    |   |-- images/         # å›¾ç‰‡é™æ€èµ„æºå­˜æ”¾ç›®å½•
    |       |-- favicon.ico # ç½‘ç«™ favicon
```
